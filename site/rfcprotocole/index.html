<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="http://127.0.0.1:8000/rfcprotocole/">
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Protocole RFC - My R-Type</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Protocole RFC", url: "#_top", children: [
              {title: "Introduction", url: "#introduction" },
              {title: "R-Type architecture", url: "#r-type-architecture" },
              {title: "R-Type TCP Protocol", url: "#r-type-tcp-protocol" },
              {title: "Code explanations", url: "#code-explanations" },
              {title: "Reception at the server\u0027s", url: "#reception-at-the-servers" },
          ]},
        ];

    </script>
    <script src="../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../game_server/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../game_server/" class="btn btn-xs btn-link">
        Game server
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../ecs_system/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../ecs_system/" class="btn btn-xs btn-link">
        ECS System
      </a>
    </div>
    
  </div>

    

    <h1 id="protocole-rfc">Protocole RFC</h1>
<p>This note is the official specification for the two R-Type protocols (the R-Type TCP protocol and the R-Type UDP protocol).</p>
<h2 id="introduction">Introduction</h2>
<p>The aim of the R-Type project is to create an online multiplayer copy of the classic multiplayer online game R-Type (1987).</p>
<h2 id="r-type-architecture">R-Type architecture</h2>
<p>R-Type's architecture is a classic client-server game architecture 
architecture. The entire game engine is located in the server. A client
connects connects to the server using the R-Type TCP protocol. Once
connected, the client can choose between creating a new lobby or joining
an existing one. Several clients can connect to the server at the same
time. Next, the customer who created the lobby can start a new game. The
server can run several games at the same time.</p>
<h2 id="r-type-tcp-protocol">R-Type TCP Protocol</h2>
<p>All client-server communication prior to game launch is carried
   out using this using this R-type TCP protocol.</p>
<p>These codes define the different actions that we will observe at the 
  with the action assigned to each function.</p>
<pre><code>  The ACTION enumeration:

     enum ACTION {
        500 = KO,
        230 = CONNECT,
        332 = JOIN,
        201 = READY,
        200 = START,
        221 = DECONNECTION,
        250 = MOVE,
        257 = SHOOT,
        530 = QUIT,
        211 = LEFT,
        212 = RIGHT,
        213 = UP,
        214 = DOWN
     };

  To send a payload, each piece of data must be written to the
  socket so that the actions behind it can be executed.
</code></pre>
<h2 id="code-explanations">Code explanations</h2>
<p>To explain what's going on, we need to understand that these
      different codes have a very precise meaning for the customer.</p>
<pre><code>In this way, the customer relies on these various codes to
respond to the instructions.

500 = KO : This allows the customer to understand that the
</code></pre>
<p>message has not not reached its destination. So there's an error
   in the message reception</p>
<pre><code>230 = connect : This tells the client that it has successfully
connected to the server, enabling further communication.

332 = join : This allows you to manage the integration of a new
</code></pre>
<p>a new player into an existing or exixtante game.</p>
<pre><code>201 = ready : This code is used to recognize at customer level
</code></pre>
<p>whether a party has started.</p>
<pre><code>221 = deconnection : From its name with the code, this lets us
</code></pre>
<p>know that the client server has been disconnected.</p>
<pre><code>250 = move : This code lets the customer know that there is an
</code></pre>
<p>entity entity performing a movement.</p>
<pre><code>257 = shoot : This code can be used to identify interactions between
</code></pre>
<p>player and enemy interactions.</p>
<pre><code>530 = quit : This code, when sent, lets the customer know
</code></pre>
<p>to know that it must completely disconnect from the client.</p>
<pre><code>211 = left : This code allows us to identify that the entity
</code></pre>
<p>moves to the left.</p>
<p>212 = right : This code allows us to identify that the entity 
   moves to the right.</p>
<pre><code>213 = up : This code allows us to identify that the entity
</code></pre>
<p>is moving upwards.</p>
<pre><code>214 = down : This code allows us to identify that the entity
</code></pre>
<p>is moving downwards.</p>
<pre><code>Once the server has received these different codes, it knows 
exactly what action to execute. This ensures a smooth collision 
between the different entities in the game.
</code></pre>
<h2 id="reception-at-the-servers">Reception at the server's</h2>
<p>After sending these different codes, the server receives them and
      then goes on to process the retrieved information.</p>
<pre><code>  With these codes, the waiter would know what to do with his
  level. And this is how it reacts to the different codes.

  When the server receives:
500 : This tells the server that there has been a connection problem.

230 : This code notifies the customer that the connection has been
 been established.

332 : This tells the server that an entity has joined a player group 
 or a new game.

201 : This enables the server to create the entities required 
 to generate a game.

221 : When this code is sent to the server level, the latter 
 deletes the entities to end the game.

250 : On seeing this code, the server increments the position 
 of the entity.

257 : Once this code has been sent to the server, the latter 
 activates the entity responsible for managing in-game shooting
 events

530 : The latter lets the server know that it's time to
 to break the connection with the client.

211 : This allows the server to move the moving entity
 left on the abssice axis.

212 : This allows the server to move the moving entity
 right on the abssice axis.

213 : Cela permet au serveur déplacé l'entité en
 mouvement vers la haut sur l'axe de ordonné.

214 : This allows the server to move the moving entity
 down the order axis.

 Finally, we need to understand that it's these different
 codes that server and client to communicate with each other.
 So we can quickly detect problems.
</code></pre>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../game_server/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../game_server/" class="btn btn-xs btn-link">
        Game server
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../ecs_system/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../ecs_system/" class="btn btn-xs btn-link">
        ECS System
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>